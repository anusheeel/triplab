@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  @apply bg-cream text-espresso font-sans antialiased;
  min-height: 100vh;
}

/* Smooth page transitions */
#root {
  @apply min-h-screen;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-espresso/15 rounded-full;
  transition: background-color 0.2s;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-espresso/25;
}

/* Selection color */
::selection {
  @apply bg-coral/30 text-espresso;
}

/* Typography utilities */
.font-display {
  font-family: 'Playfair Display', serif;
}

.font-body {
  font-family: 'Libre Baskerville', serif;
}

.font-sans {
  font-family: 'DM Sans', sans-serif;
}

/* Postcard card styling */
.postcard {
  @apply bg-warm-white rounded-xl shadow-postcard border border-amber/20 relative overflow-hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.postcard:hover {
  @apply shadow-lg;
}

.postcard::before {
  content: '';
  @apply absolute top-2 left-2 w-3 h-3 border-l-2 border-t-2 border-espresso/10 pointer-events-none;
}

.postcard::after {
  content: '';
  @apply absolute top-2 right-2 w-3 h-3 border-r-2 border-t-2 border-espresso/10 pointer-events-none;
}

/* Stamp button styling */
.btn-stamp {
  @apply bg-coral text-cream font-sans font-medium px-6 py-3 rounded-lg
         shadow-[inset_0_-2px_0_rgba(0,0,0,0.15),0_2px_4px_rgba(224,122,95,0.3)]
         hover:shadow-[inset_0_-1px_0_rgba(0,0,0,0.15),0_4px_8px_rgba(224,122,95,0.3)]
         hover:-translate-y-0.5
         active:translate-y-0 active:shadow-[inset_0_1px_2px_rgba(0,0,0,0.1)]
         transition-all duration-150 ease-out
         disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 disabled:hover:shadow-none;
}

.btn-stamp-secondary {
  @apply bg-espresso text-cream font-sans font-medium px-6 py-3 rounded-lg
         shadow-[inset_0_-2px_0_rgba(0,0,0,0.15),0_2px_4px_rgba(61,64,91,0.2)]
         hover:shadow-[inset_0_-1px_0_rgba(0,0,0,0.15),0_4px_8px_rgba(61,64,91,0.2)]
         hover:-translate-y-0.5
         active:translate-y-0 active:shadow-[inset_0_1px_2px_rgba(0,0,0,0.1)]
         transition-all duration-150 ease-out
         disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0;
}

.btn-stamp-outline {
  @apply bg-transparent text-coral border-2 border-coral font-sans font-medium px-6 py-3 rounded-lg
         hover:bg-coral/10 hover:-translate-y-0.5
         active:translate-y-0 active:bg-coral/20
         transition-all duration-150 ease-out
         disabled:opacity-50 disabled:cursor-not-allowed;
}

/* Ghost button for subtle actions */
.btn-ghost {
  @apply px-3 py-1.5 rounded-lg font-sans text-sm text-espresso/70
         hover:bg-espresso/5 hover:text-espresso
         active:bg-espresso/10
         transition-all duration-150;
}

/* User avatar stamp */
.avatar-stamp {
  @apply w-10 h-10 rounded-full border-2 border-dashed border-espresso/30
         flex items-center justify-center bg-amber/20
         shadow-sm font-display text-espresso text-sm
         transition-transform duration-200;
  transform: rotate(-3deg);
}

.avatar-stamp:hover {
  transform: rotate(0deg) scale(1.05);
}

/* Rubber stamp overlay */
.rubber-stamp {
  @apply inline-block px-3 py-1 border-2 rounded font-display uppercase tracking-wider
         transform -rotate-6 transition-transform duration-200;
}

.rubber-stamp:hover {
  transform: rotate(-3deg) scale(1.05);
}

.rubber-stamp-approved {
  @apply rubber-stamp border-sage text-sage;
}

.rubber-stamp-locked {
  @apply rubber-stamp border-stamp-red text-stamp-red;
}

/* Vintage input styling */
.input-vintage {
  @apply w-full px-4 py-3 bg-warm-white border-2 border-amber/40 rounded-lg
         font-sans text-espresso placeholder:text-espresso/35
         focus:outline-none focus:border-coral focus:ring-4 focus:ring-coral/10
         hover:border-amber/60
         transition-all duration-200;
}

.input-vintage:focus {
  @apply shadow-[0_0_0_4px_rgba(224,122,95,0.1)];
}

/* Luggage tag badge */
.luggage-tag {
  @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-full
         text-sm font-sans font-medium shadow-sm
         transition-all duration-200;
}

.luggage-tag:hover {
  @apply shadow-md -translate-y-0.5;
}

/* Calendar day cell base */
.calendar-day {
  @apply aspect-square flex flex-col items-center justify-center
         rounded-lg cursor-pointer
         transition-all duration-150 ease-out;
}

.calendar-day:hover:not(:disabled) {
  @apply shadow-md -translate-y-0.5;
}

.calendar-day:active:not(:disabled) {
  @apply translate-y-0 shadow-sm;
}

.calendar-day-selected {
  @apply ring-2 ring-offset-2 ring-offset-cream;
}

/* Postmark date display */
.postmark {
  @apply inline-flex items-center gap-2 px-3 py-1.5
         border-2 border-dashed border-espresso/20 rounded-full
         font-sans text-espresso/60 text-xs
         transition-all duration-200;
}

.postmark:hover {
  @apply border-espresso/30 text-espresso/80;
}

/* Travel route dotted line */
.travel-route {
  @apply border-t-2 border-dashed border-espresso/15;
}

/* Animation keyframes */
@keyframes stampThunk {
  0% { transform: scale(1.3) rotate(-8deg); opacity: 0; }
  50% { transform: scale(0.95) rotate(2deg); }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

@keyframes slideIn {
  0% { transform: translateX(-16px); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes slideUp {
  0% { transform: translateY(12px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes scaleIn {
  0% { transform: scale(0.95); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Animation classes */
.animate-stamp-in {
  animation: stampThunk 0.3s ease-out forwards;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out forwards;
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out forwards;
}

.animate-fade-in {
  animation: fadeIn 0.25s ease-out forwards;
}

.animate-scale-in {
  animation: scaleIn 0.2s ease-out forwards;
}

.animate-pulse-soft {
  animation: pulse-soft 2s ease-in-out infinite;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Skeleton loading animation */
.skeleton {
  @apply bg-gradient-to-r from-espresso/5 via-espresso/10 to-espresso/5 bg-[length:200%_100%];
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Stagger animation delays */
.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.1s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.2s; }
.stagger-5 { animation-delay: 0.25s; }

/* Initial hidden state for staggered animations */
.stagger-item {
  opacity: 0;
  animation: slideUp 0.3s ease-out forwards;
}

/* World map background for welcome page */
.world-map-bg {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Cpath fill='%233D405B' fill-opacity='0.03' d='M200 100c30-10 60 0 90 20s50 50 60 80c-20 30-50 40-80 30s-60-40-70-70c0-30 10-50 0-60zm300 50c20 10 40 30 50 60s0 60-20 80c-30-10-50-30-60-60s0-60 30-80zm-200 150c40-20 80-10 110 20s30 70 10 100c-40 0-80-20-100-50s-30-50-20-70z'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 800px 400px;
}

/* Compass decoration */
.compass-decoration {
  @apply w-24 h-24 opacity-5;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='none' stroke='%233D405B' stroke-width='2'/%3E%3Cpath d='M50 10 L55 50 L50 90 L45 50 Z' fill='%233D405B'/%3E%3Cpath d='M10 50 L50 45 L90 50 L50 55 Z' fill='%233D405B'/%3E%3Ccircle cx='50' cy='50' r='5' fill='%233D405B'/%3E%3C/svg%3E");
  animation: float 6s ease-in-out infinite;
}

/* Time slot styling */
.time-slot {
  @apply border-l-4 pl-4 py-3 transition-all duration-200;
}

.time-slot:hover {
  @apply pl-5;
}

.time-slot-morning { @apply border-l-mustard; }
.time-slot-afternoon { @apply border-l-coral; }
.time-slot-evening { @apply border-l-ocean; }
.time-slot-night { @apply border-l-plum; }

/* Conflict indicator */
.conflict-indicator {
  @apply border-2 border-dashed border-terracotta/50 bg-terracotta/5 rounded-lg p-2;
}

/* Vote buttons */
.vote-btn {
  @apply p-2 rounded-full transition-all duration-150
         hover:scale-110 active:scale-95;
}

.vote-btn-up {
  @apply hover:bg-sage/20 text-sage/70 hover:text-sage;
}

.vote-btn-down {
  @apply hover:bg-terracotta/20 text-terracotta/70 hover:text-terracotta;
}

/* Chat message styling */
.chat-message {
  @apply p-4 rounded-xl max-w-[85%];
  animation: slideUp 0.2s ease-out;
}

.chat-message-user {
  @apply bg-coral/10 ml-auto;
}

.chat-message-ai {
  @apply bg-espresso/5 mr-auto;
}

/* Interactive list items */
.interactive-item {
  @apply transition-all duration-150 ease-out;
}

.interactive-item:hover {
  @apply bg-espresso/5 -translate-x-1;
}

.interactive-item:active {
  @apply bg-espresso/10 translate-x-0;
}

/* Focus visible styles for accessibility */
:focus-visible {
  @apply outline-none ring-2 ring-coral ring-offset-2 ring-offset-cream;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Page transition wrapper */
.page-transition {
  animation: fadeIn 0.2s ease-out, slideUp 0.3s ease-out;
}

/* Hover lift effect */
.hover-lift {
  @apply transition-all duration-200;
}

.hover-lift:hover {
  @apply -translate-y-1 shadow-lg;
}

/* Press effect */
.press-effect {
  @apply transition-transform duration-100;
}

.press-effect:active {
  @apply scale-[0.98];
}

/* Ripple effect base (requires JS to add ripple element) */
.ripple-container {
  @apply relative overflow-hidden;
}

/* Glow effect for important elements */
.glow-coral {
  box-shadow: 0 0 20px rgba(224, 122, 95, 0.3);
}

.glow-sage {
  box-shadow: 0 0 20px rgba(129, 178, 154, 0.3);
}

/* Drag selection visual feedback */
.drag-selecting {
  cursor: crosshair !important;
}

.drag-target-select {
  @apply ring-2 ring-sage/50 bg-sage/20;
}

.drag-target-deselect {
  @apply ring-2 ring-stamp-red/50 bg-stamp-red/10;
}
